(()=>{function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t=globalThis.parcelRequire60dc,o=t.register;o("85p6Y",function(o,n){e(o.exports,"initWorkPage",()=>i),e(o.exports,"cleanupWorkPage",()=>a);var r=t("2bvox"),l=t("cu1VQ");let s=null;function i(){if(window.scrollTo(0,0),window._smootherInstance&&"function"==typeof window._smootherInstance.paused)try{window._smootherInstance.paused(!1)}catch(e){}document.body.style.overflow="",document.documentElement.style.overflow="";let e=null,t=!1,o=()=>{try{if("undefined"!=typeof window&&window._smootherInstance&&"function"==typeof window._smootherInstance.scrollTo)return!t&&"function"==typeof window._smootherInstance.smooth&&(e=window._smootherInstance.smooth())&&(window._smootherInstance.smooth(0),t=!0),window._smootherInstance.scrollTo(0,!1),!0}catch(e){}try{return window.scrollTo(0,0),!0}catch(e){return!1}};o(),requestAnimationFrame(()=>{window.scrollTo(0,0),requestAnimationFrame(()=>{window.scrollTo(0,0),o()})}),setTimeout(()=>{if(window.scrollTo(0,0),o(),window._smootherInstance&&"function"==typeof window._smootherInstance.paused)try{window._smootherInstance.paused(!1)}catch(e){}},120),t&&e&&setTimeout(()=>{try{window._smootherInstance&&"function"==typeof window._smootherInstance.smooth&&window._smootherInstance.smooth(e)}catch(e){}},400),setTimeout(()=>{if(document.body.style.overflow="",document.documentElement.style.overflow="",window._smootherInstance&&"function"==typeof window._smootherInstance.paused)try{window._smootherInstance.paused(!1)}catch(e){}},500),(s=(0,l.createWorkLinksModule)()).init()}function a(){s&&(s.cleanup(),s=null)}window.initPageTransitions=function(){let e=document.querySelector(".main-shell");e&&r.gsap.fromTo(e,{transform:"translate3d(0, 30%, 0)"},{transform:"translate3d(0, 0, 0)",duration:1,ease:"expo.inOut"})}}),o("cu1VQ",function(o,n){e(o.exports,"createWorkLinksModule",()=>l);var r=t("2bvox");function l(){let e={workImgShell:null,workLinksShell:null,workLinks:null,workImgMasks:null,currentIndex:1e3,currentVideo:null,currentMask:null,xTo:null,yTo:null,onMouseMovePos:null,onMouseMoveLastY:null,onWorkShellEnter:null,onWorkShellLeave:null,onInitialMouseMove:null};return{init:function(){document.querySelectorAll("video").forEach(e=>{e.pause()});let t=document.querySelector(".work-img-shell"),o=document.querySelector(".work-links-shell"),n=document.querySelectorAll(".work-links-item"),l=document.querySelectorAll(".work-img-mask");e.workImgShell=t,e.workLinksShell=o,e.workLinks=n,e.workImgMasks=l;try{let e=Array.from(document.querySelectorAll(".work-link-num-txt"));if(e&&e.length){let t=e.length,o=Math.max(2,String(t).length);e.forEach((e,t)=>{try{let n=String(t+1).padStart(o,"0");e.innerHTML=`${n} /`}catch(e){}})}}catch(e){}if(!t||!o)return;if(l.length>0){let t=l[0];r.gsap.set(t,{zIndex:e.currentIndex});let o=t.querySelector(".work-img-mask-anime");if(o){r.gsap.set(o,{position:"absolute",top:0,left:0,right:0,height:"100%",overflow:"hidden"}),e.currentMask=t;let n=t.querySelector("video");n&&(n.play(),e.currentVideo=n)}}t.style.cssText="",r.gsap.set(t,{opacity:0,xPercent:-50,yPercent:-50,position:"fixed",top:"0",left:"0",zIndex:9999,pointerEvents:"none"});let s=r.gsap.quickTo(t,"x",{duration:1.2,ease:"expo.out"}),i=r.gsap.quickTo(t,"y",{duration:1.2,ease:"expo.out"});e.xTo=s,e.yTo=i;let a=e=>{let t=document.querySelector(".content-shell").getBoundingClientRect().top;s(e.clientX),i(e.clientY-t)};e.onMouseMovePos=a,window.addEventListener("mousemove",a);let u=o=>{if(r.gsap.killTweensOf(t,"opacity"),r.gsap.to(t,{opacity:+!!o,scale:o?1:.8,duration:o?.6:.3,ease:"expo.out"}),o&&e.currentMask){let t=e.currentMask.querySelector("video");t&&(t.play(),e.currentVideo=t)}else!o&&e.currentVideo&&(e.currentVideo.pause(),e.currentVideo=null)};e.onWorkShellEnter=()=>u(!0),e.onWorkShellLeave=()=>u(!1),o.addEventListener("mouseenter",e.onWorkShellEnter),o.addEventListener("mouseleave",e.onWorkShellLeave),t.addEventListener("mouseenter",e.onWorkShellEnter),t.addEventListener("mouseleave",e.onWorkShellLeave);let c=0,d=e=>{c=e.clientY};e.onMouseMoveLastY=d,window.addEventListener("mousemove",d);let m=e=>e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-"),w=window.location.pathname.match(/projects\/([^\/]+)/),h=w?m(w[1]):null;n.forEach((t,o)=>{let n=!1;if(h){let e=t.getAttribute("href");if(e&&e.includes("projects/")){let t=e.match(/projects\/([^\/]+)/);t&&m(t[1])===h&&(n=!0)}if(!n){let e=t.querySelector(".work-link-headline-txt");e&&m(e.textContent)===h&&(n=!0)}}let s=!1;(t.textContent||t.innerText||"").toLowerCase().includes("coming soon")&&(s=!0),(n||s)&&(t.style.opacity="0.5",t.setAttribute("data-current-project","true"),t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()})),t.addEventListener("mouseenter",n=>{e.currentIndex++;let s=t.querySelectorAll("*");s.length&&r.gsap.to(s,{color:"#000000",duration:.4,ease:"power2.out"});let i=t.querySelector(".work-link-num");i&&r.gsap.to(i,{x:30,duration:.4,ease:"power2.out"});let a=t.querySelector(".work-link-client");a&&r.gsap.to(a,{x:-30,duration:.4,ease:"power2.out"});let u=t.querySelector(".links-bg");if(u){let e=t.getBoundingClientRect(),o=e.top+e.height/2,n=c<o;r.gsap.killTweensOf(u),r.gsap.set(u,{transformOrigin:n?"top center":"bottom center",scaleY:0}),r.gsap.to(u,{scaleY:1,duration:.6,ease:"expo.out"})}if(0===o&&e.currentMask===l[0])return;e.currentVideo&&e.currentVideo.pause();let d=l[o];if(d&&d!==e.currentMask){e.currentMask=d,r.gsap.set(d,{zIndex:e.currentIndex});let t=d.querySelector(".work-img-mask-anime");if(t){let e=t.children;r.gsap.killTweensOf([t,e]);let o=d.getBoundingClientRect(),n=o.top+o.height/2,l=c<n;r.gsap.set(t,{position:"absolute",top:l?"auto":0,bottom:l?0:"auto",left:0,right:0,height:"0%",overflow:"hidden"}),r.gsap.timeline().to(t,{height:"100%",duration:1.1,ease:"expo.out"})}let o=d.querySelector("video");o&&(o.play(),e.currentVideo=o)}}),t.addEventListener("mouseleave",e=>{let o=t.querySelectorAll("*");o.length&&r.gsap.to(o,{color:"#FFFFFF",duration:.4,ease:"power2.out"});let n=t.querySelector(".work-link-num");n&&r.gsap.to(n,{x:0,duration:.4,ease:"power2.out"});let l=t.querySelector(".work-link-client");l&&r.gsap.to(l,{x:0,duration:.4,ease:"power2.out"});let s=t.querySelector(".links-bg");if(s){let o=t.getBoundingClientRect(),n=o.top+o.height/2,l=e.clientY<n;r.gsap.killTweensOf(s),r.gsap.set(s,{transformOrigin:l?"top center":"bottom center"}),r.gsap.to(s,{scaleY:0,duration:.6,ease:"expo.out"})}})});let p=e=>{var t,n;let r;t=e.clientX,n=e.clientY,t>=(r=o.getBoundingClientRect()).left&&t<=r.right&&n>=r.top&&n<=r.bottom&&u(!0),document.removeEventListener("mousemove",p)};e.onInitialMouseMove=p,document.addEventListener("mousemove",p)},cleanup:function(){try{document.querySelectorAll("video").forEach(e=>{try{e.pause()}catch(e){}}),e.onMouseMovePos&&window.removeEventListener("mousemove",e.onMouseMovePos),e.onMouseMoveLastY&&window.removeEventListener("mousemove",e.onMouseMoveLastY),e.onInitialMouseMove&&document.removeEventListener("mousemove",e.onInitialMouseMove),e.workLinksShell&&(e.workLinksShell.removeEventListener("mouseenter",e.onWorkShellEnter),e.workLinksShell.removeEventListener("mouseleave",e.onWorkShellLeave)),e.workImgShell&&(e.workImgShell.removeEventListener("mouseenter",e.onWorkShellEnter),e.workImgShell.removeEventListener("mouseleave",e.onWorkShellLeave)),e.workLinks&&e.workLinks.length&&e.workLinks.forEach(e=>{try{let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}catch(e){}});try{r.gsap.killTweensOf(e.workImgShell)}catch(e){}try{r.gsap.killTweensOf(e.workImgShell&&e.workImgShell.children)}catch(e){}Object.keys(e).forEach(t=>{e[t]=null}),e.currentIndex=1e3}catch(e){console.warn("workLinksModule cleanup error",e)}}}}})})();
//# sourceMappingURL=work.743ed7d7.js.map
