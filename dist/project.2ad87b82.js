(()=>{function e(e,t,o,r){Object.defineProperty(e,t,{get:o,set:r,enumerable:!0,configurable:!0})}var t=globalThis.parcelRequire60dc,o=t.register;o("1UEDz",function(o,r){e(o.exports,"cleanupProjectPage",()=>d),e(o.exports,"initProjectPage",()=>p);var n=t("2bvox"),l=t("hR2D0"),i=t("gkx87"),a=t("cu1VQ");let s=[],c=null,u=null;function d(){if(s.forEach(e=>e&&e.kill&&e.kill()),s=[],c){try{c.kill&&c.kill()}catch(e){}try{c.pause&&c.pause()}catch(e){}c=null}u&&(u.cleanup(),u=null)}function p(){let e=()=>{d();try{let e=()=>{try{if("undefined"!=typeof window&&window._smootherInstance&&"function"==typeof window._smootherInstance.scrollTo)return window._smootherInstance.scrollTo(0,!1),!0}catch(e){}try{return window.scrollTo(0,0),!0}catch(e){return!1}};e(),requestAnimationFrame(()=>requestAnimationFrame(()=>e())),setTimeout(()=>{e();let t=document.querySelectorAll(".indicator-item-shell");if(t.length)try{n.gsap.killTweensOf(t),n.gsap.set(t,{x:-150,autoAlpha:0})}catch(e){}},120);let t=()=>{e();let o=document.querySelectorAll(".indicator-item-shell");if(o.length)try{n.gsap.killTweensOf(o),n.gsap.set(o,{x:-150,autoAlpha:0})}catch(e){}window.removeEventListener("load",t)};try{window.addEventListener("load",t)}catch(e){}}catch(e){}if(!window.location.pathname.includes("/projects"))return;let e=document.querySelector(".scroll-cta-line"),t=document.querySelector(".scroll-cta-txt");t&&n.gsap.set(t,{opacity:1}),e&&n.gsap.set(e,{opacity:1,scaleY:0,transformOrigin:"top center"}),setTimeout(()=>{let e=document.querySelector(".scroll-cta-line"),t=document.querySelector(".scroll-cta-txt");if(!e||!t)return;(c=n.gsap.timeline({repeat:-1,defaults:{duration:1,ease:"expo.inOut"}})).to(e,{scaleY:1,duration:1,ease:"expo.inOut"}).set(e,{transformOrigin:"bottom center",immediateRender:!1}).to(e,{scaleY:0,duration:1,ease:"expo.inOut"});let o=document.querySelector(".projects-section-shell")||document.querySelector(".content-shell")||document.body,r=l.ScrollTrigger.create({trigger:o,start:"top bottom",onEnter:()=>{if(20>=(window.scrollY||window.pageYOffset||0))return;c&&c.pause();let e=Array.from(document.querySelectorAll(".scroll-cta-line, .scroll-cta-txt"));e.length&&n.gsap.to(e,{opacity:0,duration:.3,stagger:.1})},onLeaveBack:()=>{c&&c.play();let e=Array.from(document.querySelectorAll(".scroll-cta-line, .scroll-cta-txt"));e.length&&n.gsap.to(e,{opacity:1,duration:.3,stagger:.1})},onRefresh:e=>{try{let e=o.getBoundingClientRect().top<=window.innerHeight,t=Array.from(document.querySelectorAll(".scroll-cta-line, .scroll-cta-txt"));e?(c&&c.pause(),t.length&&n.gsap.set(t,{opacity:0})):(c&&c.play(),t.length&&n.gsap.set(t,{opacity:1}))}catch(e){console.warn("[Project] CTA onRefresh error",e)}}});s.push(r),setTimeout(()=>{try{l.ScrollTrigger.refresh(!0)}catch(e){}},120),requestAnimationFrame(()=>{try{o.getBoundingClientRect().top<=window.innerHeight?(c&&c.pause(),n.gsap.set([".scroll-cta-line",".scroll-cta-txt"],{opacity:0})):(c&&c.play(),n.gsap.set([".scroll-cta-line",".scroll-cta-txt"],{opacity:1}))}catch(e){}})},50);let o=document.querySelectorAll(".indicator-item-shell"),r=document.querySelector(".projects-section-shell"),i=document.querySelector(".links-intro-shell");if(o.length&&r){o.forEach(e=>{e.style.visibility="hidden",e.style.opacity="0",e.style.transform="translate3d(-300px, 0, 0)"}),n.gsap.set(o,{x:-300,autoAlpha:0});let e=null,t=null,a=!1,c=()=>{a||(a=!0,o.forEach(e=>{e.style.visibility="",e.style.opacity="",e.style.transform=""}),n.gsap.set(o,{x:-300,autoAlpha:0}),window.removeEventListener("wheel",c),window.removeEventListener("touchmove",c))};window.addEventListener("wheel",c,{passive:!0,once:!0}),window.addEventListener("touchmove",c,{passive:!0,once:!0}),e=l.ScrollTrigger.create({trigger:r,start:"top 35%",onEnter:()=>{!a||t&&t.isActive||(n.gsap.killTweensOf(o),n.gsap.to(o,{x:0,autoAlpha:1,duration:1,stagger:.15,ease:"expo.out",overwrite:"auto"}))},onLeaveBack:()=>{a&&(n.gsap.killTweensOf(o),n.gsap.to(o,{x:-300,autoAlpha:0,duration:.5,stagger:.1,ease:"expo.in",overwrite:"auto"}))}}),s.push(e),i&&(t=l.ScrollTrigger.create({trigger:i,start:"top bottom+=500",onEnter:()=>{a&&(n.gsap.killTweensOf(o),n.gsap.to(o,{x:-300,autoAlpha:0,duration:.5,stagger:.1,ease:"expo.in",overwrite:"auto"}))},onLeaveBack:()=>{a&&(n.gsap.killTweensOf(o),n.gsap.to(o,{x:0,autoAlpha:1,duration:1,stagger:.15,ease:"expo.out",overwrite:"auto"}))}}),s.push(t))}setTimeout(()=>{l.ScrollTrigger.refresh(!0)},50),(u=(0,a.createWorkLinksModule)()).init()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}n.gsap.registerPlugin(l.ScrollTrigger,i.SplitText)}),o("cu1VQ",function(o,r){e(o.exports,"createWorkLinksModule",()=>l);var n=t("2bvox");function l(){let e={workImgShell:null,workLinksShell:null,workLinks:null,workImgMasks:null,currentIndex:1e3,currentVideo:null,currentMask:null,xTo:null,yTo:null,onMouseMovePos:null,onMouseMoveLastY:null,onWorkShellEnter:null,onWorkShellLeave:null,onInitialMouseMove:null};return{init:function(){document.querySelectorAll("video").forEach(e=>{e.pause()});let t=document.querySelector(".work-img-shell"),o=document.querySelector(".work-links-shell"),r=document.querySelectorAll(".work-links-item"),l=document.querySelectorAll(".work-img-mask");e.workImgShell=t,e.workLinksShell=o,e.workLinks=r,e.workImgMasks=l;try{let e=Array.from(document.querySelectorAll(".work-link-num"));if(e&&e.length){let t=e.length,o=Math.max(2,String(t).length);e.forEach((e,t)=>{try{let r=String(t+1).padStart(o,"0");e.innerHTML=`${r} /`}catch(e){}})}}catch(e){}if(!t||!o)return;if(l.length>0){let t=l[0];n.gsap.set(t,{zIndex:e.currentIndex});let o=t.querySelector(".work-img-mask-anime");if(o){n.gsap.set(o,{position:"absolute",top:0,left:0,right:0,height:"100%",overflow:"hidden"}),e.currentMask=t;let r=t.querySelector("video");r&&(r.play(),e.currentVideo=r)}}t.style.cssText="",n.gsap.set(t,{opacity:0,xPercent:-50,yPercent:-50,position:"fixed",top:"0",left:"0",zIndex:9999,pointerEvents:"none"});let i=n.gsap.quickTo(t,"x",{duration:1.2,ease:"expo.out"}),a=n.gsap.quickTo(t,"y",{duration:1.2,ease:"expo.out"});e.xTo=i,e.yTo=a;let s=e=>{let t=document.querySelector(".content-shell").getBoundingClientRect().top;i(e.clientX),a(e.clientY-t)};e.onMouseMovePos=s,window.addEventListener("mousemove",s);let c=o=>{if(n.gsap.killTweensOf(t,"opacity"),n.gsap.to(t,{opacity:+!!o,scale:o?1:.8,duration:o?.6:.3,ease:"expo.out"}),o&&e.currentMask){let t=e.currentMask.querySelector("video");t&&(t.play(),e.currentVideo=t)}else!o&&e.currentVideo&&(e.currentVideo.pause(),e.currentVideo=null)};e.onWorkShellEnter=()=>c(!0),e.onWorkShellLeave=()=>c(!1),o.addEventListener("mouseenter",e.onWorkShellEnter),o.addEventListener("mouseleave",e.onWorkShellLeave),t.addEventListener("mouseenter",e.onWorkShellEnter),t.addEventListener("mouseleave",e.onWorkShellLeave);let u=0,d=e=>{u=e.clientY};e.onMouseMoveLastY=d,window.addEventListener("mousemove",d);let p=e=>e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-"),g=window.location.pathname.match(/projects\/([^\/]+)/),m=g?p(g[1]):null;r.forEach((t,o)=>{let r=!1;if(m){let e=t.getAttribute("href");if(e&&e.includes("projects/")){let t=e.match(/projects\/([^\/]+)/);t&&p(t[1])===m&&(r=!0)}if(!r){let e=t.querySelector(".work-link-headline-txt");e&&p(e.textContent)===m&&(r=!0)}}let i=!1;(t.textContent||t.innerText||"").toLowerCase().includes("coming soon")&&(i=!0),(r||i)&&(t.style.opacity="0.5",t.setAttribute("data-current-project","true"),t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()})),t.addEventListener("mouseenter",r=>{e.currentIndex++;let i=t.querySelectorAll("*");i.length&&n.gsap.to(i,{color:"#000000",duration:.4,ease:"power2.out"});let a=t.querySelector(".work-link-num");a&&n.gsap.to(a,{x:30,duration:.4,ease:"power2.out"});let s=t.querySelector(".work-link-client");s&&n.gsap.to(s,{x:-30,duration:.4,ease:"power2.out"});let c=t.querySelector(".links-bg");if(c){let e=t.getBoundingClientRect(),o=e.top+e.height/2,r=u<o;n.gsap.killTweensOf(c),n.gsap.set(c,{transformOrigin:r?"top center":"bottom center",scaleY:0}),n.gsap.to(c,{scaleY:1,duration:.6,ease:"expo.out"})}if(0===o&&e.currentMask===l[0])return;e.currentVideo&&e.currentVideo.pause();let d=l[o];if(d&&d!==e.currentMask){e.currentMask=d,n.gsap.set(d,{zIndex:e.currentIndex});let t=d.querySelector(".work-img-mask-anime");if(t){let e=t.children;n.gsap.killTweensOf([t,e]);let o=d.getBoundingClientRect(),r=o.top+o.height/2,l=u<r;n.gsap.set(t,{position:"absolute",top:l?"auto":0,bottom:l?0:"auto",left:0,right:0,height:"0%",overflow:"hidden"}),n.gsap.timeline().to(t,{height:"100%",duration:1.1,ease:"expo.out"})}let o=d.querySelector("video");o&&(o.play(),e.currentVideo=o)}}),t.addEventListener("mouseleave",e=>{let o=t.querySelectorAll("*");o.length&&n.gsap.to(o,{color:"#FFFFFF",duration:.4,ease:"power2.out"});let r=t.querySelector(".work-link-num");r&&n.gsap.to(r,{x:0,duration:.4,ease:"power2.out"});let l=t.querySelector(".work-link-client");l&&n.gsap.to(l,{x:0,duration:.4,ease:"power2.out"});let i=t.querySelector(".links-bg");if(i){let o=t.getBoundingClientRect(),r=o.top+o.height/2,l=e.clientY<r;n.gsap.killTweensOf(i),n.gsap.set(i,{transformOrigin:l?"top center":"bottom center"}),n.gsap.to(i,{scaleY:0,duration:.6,ease:"expo.out"})}})});let h=e=>{var t,r;let n;t=e.clientX,r=e.clientY,t>=(n=o.getBoundingClientRect()).left&&t<=n.right&&r>=n.top&&r<=n.bottom&&c(!0),document.removeEventListener("mousemove",h)};e.onInitialMouseMove=h,document.addEventListener("mousemove",h)},cleanup:function(){try{document.querySelectorAll("video").forEach(e=>{try{e.pause()}catch(e){}}),e.onMouseMovePos&&window.removeEventListener("mousemove",e.onMouseMovePos),e.onMouseMoveLastY&&window.removeEventListener("mousemove",e.onMouseMoveLastY),e.onInitialMouseMove&&document.removeEventListener("mousemove",e.onInitialMouseMove),e.workLinksShell&&(e.workLinksShell.removeEventListener("mouseenter",e.onWorkShellEnter),e.workLinksShell.removeEventListener("mouseleave",e.onWorkShellLeave)),e.workImgShell&&(e.workImgShell.removeEventListener("mouseenter",e.onWorkShellEnter),e.workImgShell.removeEventListener("mouseleave",e.onWorkShellLeave)),e.workLinks&&e.workLinks.length&&e.workLinks.forEach(e=>{try{let t=e.cloneNode(!0);e.parentNode.replaceChild(t,e)}catch(e){}});try{n.gsap.killTweensOf(e.workImgShell)}catch(e){}try{n.gsap.killTweensOf(e.workImgShell&&e.workImgShell.children)}catch(e){}Object.keys(e).forEach(t=>{e[t]=null}),e.currentIndex=1e3}catch(e){console.warn("workLinksModule cleanup error",e)}}}}})})();
//# sourceMappingURL=project.2ad87b82.js.map
