(()=>{function e(e,o,t,n){Object.defineProperty(e,o,{get:t,set:n,enumerable:!0,configurable:!0})}var o=globalThis.parcelRequire60dc,t=o.register;t("85p6Y",function(t,n){e(t.exports,"initWorkPage",()=>i),e(t.exports,"cleanupWorkPage",()=>a);var r=o("2bvox"),l=o("cu1VQ");let s=null;function i(){if(window.scrollTo(0,0),window._smootherInstance&&"function"==typeof window._smootherInstance.paused)try{window._smootherInstance.paused(!1)}catch(e){}document.body.style.overflow="",document.documentElement.style.overflow="";let e=null,o=!1,t=()=>{try{if("undefined"!=typeof window&&window._smootherInstance&&"function"==typeof window._smootherInstance.scrollTo)return!o&&"function"==typeof window._smootherInstance.smooth&&(e=window._smootherInstance.smooth())&&(window._smootherInstance.smooth(0),o=!0),window._smootherInstance.scrollTo(0,!1),!0}catch(e){}try{return window.scrollTo(0,0),!0}catch(e){return!1}};t(),requestAnimationFrame(()=>{window.scrollTo(0,0),requestAnimationFrame(()=>{window.scrollTo(0,0),t()})}),setTimeout(()=>{if(window.scrollTo(0,0),t(),window._smootherInstance&&"function"==typeof window._smootherInstance.paused)try{window._smootherInstance.paused(!1)}catch(e){}},120),o&&e&&setTimeout(()=>{try{window._smootherInstance&&"function"==typeof window._smootherInstance.smooth&&window._smootherInstance.smooth(e)}catch(e){}},400),setTimeout(()=>{if(document.body.style.overflow="",document.documentElement.style.overflow="",window._smootherInstance&&"function"==typeof window._smootherInstance.paused)try{window._smootherInstance.paused(!1)}catch(e){}},500),(s=(0,l.createWorkLinksModule)()).init()}function a(){s&&(s.cleanup(),s=null)}window.initPageTransitions=function(){let e=document.querySelector(".main-shell");e&&r.gsap.fromTo(e,{transform:"translate3d(0, 30%, 0)"},{transform:"translate3d(0, 0, 0)",duration:1,ease:"expo.inOut"})}}),t("cu1VQ",function(t,n){e(t.exports,"createWorkLinksModule",()=>l);var r=o("2bvox");function l(){let e={workImgShell:null,workLinksShell:null,workLinks:null,workImgMasks:null,currentIndex:1e3,currentVideo:null,currentMask:null,xTo:null,yTo:null,onMouseMovePos:null,onMouseMoveLastY:null,onWorkShellEnter:null,onWorkShellLeave:null,onInitialMouseMove:null};return{init:function(){document.querySelectorAll("video").forEach(e=>{e.pause()});let o=document.querySelector(".work-img-shell"),t=document.querySelector(".work-links-shell"),n=document.querySelectorAll(".work-links-item"),l=document.querySelectorAll(".work-img-mask");e.workImgShell=o,e.workLinksShell=t,e.workLinks=n,e.workImgMasks=l;try{let e=Array.from(document.querySelectorAll(".work-link-num"));if(e&&e.length){let o=e.length,t=Math.max(2,String(o).length);e.forEach((e,o)=>{try{let n=String(o+1).padStart(t,"0");e.innerHTML=`${n} /`}catch(e){}})}}catch(e){}if(!o||!t)return;if(l.length>0){let o=l[0];r.gsap.set(o,{zIndex:e.currentIndex});let t=o.querySelector(".work-img-mask-anime");if(t){r.gsap.set(t,{position:"absolute",top:0,left:0,right:0,height:"100%",overflow:"hidden"}),e.currentMask=o;let n=o.querySelector("video");n&&(n.play(),e.currentVideo=n)}}o.style.cssText="",r.gsap.set(o,{opacity:0,xPercent:-50,yPercent:-50,position:"fixed",top:"0",left:"0",zIndex:9999,pointerEvents:"none"});let s=r.gsap.quickTo(o,"x",{duration:1.2,ease:"expo.out"}),i=r.gsap.quickTo(o,"y",{duration:1.2,ease:"expo.out"});e.xTo=s,e.yTo=i;let a=e=>{let o=document.querySelector(".content-shell").getBoundingClientRect().top;s(e.clientX),i(e.clientY-o)};e.onMouseMovePos=a,window.addEventListener("mousemove",a);let u=t=>{if(r.gsap.killTweensOf(o,"opacity"),r.gsap.to(o,{opacity:+!!t,scale:t?1:.8,duration:t?.6:.3,ease:"expo.out"}),t&&e.currentMask){let o=e.currentMask.querySelector("video");o&&(o.play(),e.currentVideo=o)}else!t&&e.currentVideo&&(e.currentVideo.pause(),e.currentVideo=null)};e.onWorkShellEnter=()=>u(!0),e.onWorkShellLeave=()=>u(!1),t.addEventListener("mouseenter",e.onWorkShellEnter),t.addEventListener("mouseleave",e.onWorkShellLeave),o.addEventListener("mouseenter",e.onWorkShellEnter),o.addEventListener("mouseleave",e.onWorkShellLeave);let c=0,d=e=>{c=e.clientY};e.onMouseMoveLastY=d,window.addEventListener("mousemove",d);let m=e=>e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/['']/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),w=window.location.pathname.match(/projects\/([^\/]+)/),h=w?m(w[1]):null;n.forEach((o,t)=>{let n=!1;if(h){let e=o.getAttribute("href");if(e&&e.includes("projects/")){let o=e.match(/projects\/([^\/]+)/);o&&m(o[1])===h&&(n=!0)}if(!n){let e=o.querySelector(".work-link-headline-txt");e&&m(e.textContent)===h&&(n=!0)}}let s=!1;(o.textContent||o.innerText||"").toLowerCase().includes("coming soon")&&(s=!0),(n||s)&&(o.style.opacity="0.5",o.setAttribute("data-current-project","true"),o.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()})),o.addEventListener("mouseenter",n=>{e.currentIndex++;let s=o.querySelectorAll("*");s.length&&r.gsap.to(s,{color:"#000000",duration:.4,ease:"power2.out"});let i=o.querySelector(".work-link-num");i&&r.gsap.to(i,{x:30,duration:.4,ease:"power2.out"});let a=o.querySelector(".work-link-client");a&&r.gsap.to(a,{x:-30,duration:.4,ease:"power2.out"});let u=o.querySelector(".links-bg");if(u){let e=o.getBoundingClientRect(),t=e.top+e.height/2,n=c<t;r.gsap.killTweensOf(u),r.gsap.set(u,{transformOrigin:n?"top center":"bottom center",scaleY:0}),r.gsap.to(u,{scaleY:1,duration:.6,ease:"expo.out"})}if(0===t&&e.currentMask===l[0])return;e.currentVideo&&e.currentVideo.pause();let d=l[t];if(d&&d!==e.currentMask){e.currentMask=d,r.gsap.set(d,{zIndex:e.currentIndex});let o=d.querySelector(".work-img-mask-anime");if(o){let e=o.children;r.gsap.killTweensOf([o,e]);let t=d.getBoundingClientRect(),n=t.top+t.height/2,l=c<n;r.gsap.set(o,{position:"absolute",top:l?"auto":0,bottom:l?0:"auto",left:0,right:0,height:"0%",overflow:"hidden"}),r.gsap.timeline().to(o,{height:"100%",duration:1.1,ease:"expo.out"})}let t=d.querySelector("video");t&&(t.play(),e.currentVideo=t)}}),o.addEventListener("mouseleave",e=>{let t=o.querySelectorAll("*");t.length&&r.gsap.to(t,{color:"#FFFFFF",duration:.4,ease:"power2.out"});let n=o.querySelector(".work-link-num");n&&r.gsap.to(n,{x:0,duration:.4,ease:"power2.out"});let l=o.querySelector(".work-link-client");l&&r.gsap.to(l,{x:0,duration:.4,ease:"power2.out"});let s=o.querySelector(".links-bg");if(s){let t=o.getBoundingClientRect(),n=t.top+t.height/2,l=e.clientY<n;r.gsap.killTweensOf(s),r.gsap.set(s,{transformOrigin:l?"top center":"bottom center"}),r.gsap.to(s,{scaleY:0,duration:.6,ease:"expo.out"})}})});let p=e=>{var o,n;let r;o=e.clientX,n=e.clientY,o>=(r=t.getBoundingClientRect()).left&&o<=r.right&&n>=r.top&&n<=r.bottom&&u(!0),document.removeEventListener("mousemove",p)};e.onInitialMouseMove=p,document.addEventListener("mousemove",p)},cleanup:function(){try{document.querySelectorAll("video").forEach(e=>{try{e.pause()}catch(e){}}),e.onMouseMovePos&&window.removeEventListener("mousemove",e.onMouseMovePos),e.onMouseMoveLastY&&window.removeEventListener("mousemove",e.onMouseMoveLastY),e.onInitialMouseMove&&document.removeEventListener("mousemove",e.onInitialMouseMove),e.workLinksShell&&(e.workLinksShell.removeEventListener("mouseenter",e.onWorkShellEnter),e.workLinksShell.removeEventListener("mouseleave",e.onWorkShellLeave)),e.workImgShell&&(e.workImgShell.removeEventListener("mouseenter",e.onWorkShellEnter),e.workImgShell.removeEventListener("mouseleave",e.onWorkShellLeave)),e.workLinks&&e.workLinks.length&&e.workLinks.forEach(e=>{try{let o=e.cloneNode(!0);e.parentNode.replaceChild(o,e)}catch(e){}});try{r.gsap.killTweensOf(e.workImgShell)}catch(e){}try{r.gsap.killTweensOf(e.workImgShell&&e.workImgShell.children)}catch(e){}Object.keys(e).forEach(o=>{e[o]=null}),e.currentIndex=1e3}catch(e){console.warn("workLinksModule cleanup error",e)}}}}})})();
//# sourceMappingURL=work.2e6c5b23.js.map
